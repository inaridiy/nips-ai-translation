---
original: eef3175dc61a84d20f38371015e539a294b650acf2afc46f63dc83e44173f998
---

NIP-32
======

ラベリング
---------

`draft` `optional`

このNIPは、イベントにラベルを付けるための2つの新しいインデックス可能なタグと、既存のイベントにそれらのラベルを付けるための新しいイベントの種類（`kind:1985`）を定義します。これにより、分散型モデレーション、コレクション管理、ライセンス割り当て、コンテンツ分類など、いくつかのユースケースがサポートされます。

新しいタグ：

- `L` はラベルの名前空間を示します
- `l` はラベルを示します

ラベル名前空間タグ
----

`L`タグは任意の文字列にすることができますが、発行者は明確に定義された名前空間（ISOスタンダードなど）や逆ドメイン名表記を使用して、曖昧さを排除するべきです（SHOULD）。

`L`タグは、特定のタグではなく名前空間で検索をサポートするために推奨されます（RECOMMENDED）。特別な`ugc`（「ユーザー生成コンテンツ」）名前空間は、ラベルの内容がエンドユーザーによって提供される場合に使用されることがあります（MAY）。

`#`で始まる`L`タグは、ラベルのターゲットがラベルの値に関連付けられるべきであることを示します。これは、標準のnostrタグをイベント、公開鍵、リレー、URLなどに付ける方法です。

ラベルタグ
----

`l`タグの値は任意の文字列にすることができます。`L`タグを使用する場合、`l`タグは同じイベント内の`L`タグの値と一致するマークを含まなければなりません（MUST）。`L`タグが含まれていない場合でも、マークは含めるべきです（SHOULD）。マークが含まれていない場合、`ugc`が暗黙的に使用されます。

ラベルターゲット
----

ラベルイベントには、ラベル付けされるオブジェクトを表す1つ以上のタグを含まなければなりません（MUST）：`e`、`p`、`a`、`r`、または`t`タグ。これにより、それぞれイベント、人、リレー、またはトピックにラベルを付けることができます。NIP-01と同様に、`e`および`p`タグを使用する場合はリレーヒントを含めるべきです（SHOULD）。

コンテンツ
-------

ラベルは短く、意味のある文字列にするべきです。なぜそのようにラベル付けされたかの説明など、より長い議論はイベントの`content`フィールドに記載するべきです。

自己報告
-------

`l`および`L`タグは、自己報告をサポートするために他のイベントの種類に追加することができます（MAY）。1985以外の種類のイベントの場合、ラベルはイベント自体を指します。

イベント例
--------------

複数の公開鍵を`permies`トピックに関連付けることを提案する例。

```json
{
  "kind": 1985,
  "tags": [
    ["L", "#t"],
    ["l", "permies", "#t"],
    ["p", <pubkey1>, <relay_url>],
    ["p", <pubkey2>, <relay_url>]
  ],
  ...
}
```

ontology.example.comで定義された人間に対する暴力を報告する例。

```json
{
  "kind": 1985,
  "tags": [
    ["L", "com.example.ontology"],
    ["l", "VI-hum", "com.example.ontology"],
    ["p", <pubkey1>, <relay_url>],
    ["p", <pubkey2>, <relay_url>]
  ],
  ...
}
```

チャットイベントのモデレーション提案の例。

```json
{
  "kind": 1985,
  "tags": [
    ["L", "nip28.moderation"],
    ["l", "approve", "nip28.moderation"],
    ["e", <kind40_event_id>, <relay_url>]
  ],
  ...
}
```

イベントへのライセンスの割り当ての例。

```json
{
  "kind": 1985,
  "tags": [
    ["L", "license"],
    ["l", "MIT", "license"],
    ["e", <event_id>, <relay_url>]
  ],
  ...
}
```

発行者は自身の非1985イベントに`l`タグを追加することで自己ラベル付けができます。この例では、種類1のイベントの作成者が、ISO 3166-2を使用してイタリアのミラノに関連するノートとしてラベル付けしています。

```json
{
  "kind": 1,
  "tags": [
    ["L", "ISO-3166-2"],
    ["l", "IT-MI", "ISO-3166-2"]
  ],
  "content": "It's beautiful here in Milan!",
  ...
}
```

作成者がISO-639-1を使用してノートの言語を英語としてラベル付けする例。

```json
{
  "kind": 1,
  "tags": [
    ["L", "ISO-639-1"],
    ["l", "en", "ISO-639-1"]
  ],
  "content": "English text",
  ...
}
```

その他の注意点
-----------

このNIPを使用して多くのターゲットを一度にラベル付けする場合、イベントを削除して代替のものを公開することができます。標準的な`d`タグを考案する複雑さのため、パラメータ化可能/置換可能なイベントを使用しないことにしました。クエリ時の曖昧さを避けるため、発行者はラベル付けイベントを単一の名前空間に制限するべきです（SHOULD）。

語彙を作成する前に、ユースケースがすでに設計されている可能性を探り、可能であればその設計を模倣してください。名前空間の衝突を避けるために逆ドメイン名表記が推奨されますが、相互運用性のために、すべての名前空間は公共利用のためのオープンなものとみなされるべきであり、独占的なものではありません。つまり、ユースケースに合う名前空間がある場合は、他の人のドメイン名を指していても使用してください。

語彙は、名前空間内のすべてのラベルを完全修飾することを選択できます（MAY）（例：`["l", "com.example.vocabulary:my-label"]`）。これは、`L`タグなしでクエリする際に他の名前空間と混同されるべきではないより形式的な語彙を定義する場合に好まれる場合があります。これらの語彙では、すべてのラベルに名前空間を含めるべきです（SHOULD）（修飾されたラベルと修飾されていないラベルを混在させるのではなく）。

ユースケースがこのNIPに適しているかどうかの良い判断基準は、ラベルが一意になることがあるかどうかです。例えば、多くのイベントが特定の場所、トピック、または公開鍵でラベル付けされる可能性がありますが、「John Doe」や「3.18743」のような特定の値を持つラベルはラベルではなく値であり、別の方法で処理されるべきです。


付録：既知のオントロジー
-------------------------

以下は、現在広く使用されているオントロジーの非網羅的なリストです。

- [social.ontolo.categories](https://ontolo.social/)