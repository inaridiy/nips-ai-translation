---
original: 2df57c44dc5422dd9997d3fd0942f019e1f767cce89460cb620d55444f491c5d
---

NIP-09
======

イベント削除リクエスト
--------------

`draft` `optional`

種類 `5` の特別なイベントは、「削除リクエスト」を意味し、著者が削除を要求する1つ以上のイベントを参照する `e` または `a` タグのリストを持つと定義されます。削除リクエストには、削除が要求される各イベントの種類に対する `k` タグを含めるべきです（SHOULD）。

イベントの `content` フィールドには、削除リクエストの理由を説明するテキストノートを含めることができます（MAY）。

例：

```
{
  "kind": 5,
  "pubkey": <イベント作成者の32バイトの16進エンコードされた公開鍵>,
  "tags": [
    ["e", "dcd59..464a2"],
    ["e", "968c5..ad7a4"],
    ["a", "<kind>:<pubkey>:<d-identifier>"],
    ["k", "1"],
    ["k", "30023"]
  ],
  "content": "これらの投稿は誤って公開されました",
  ...その他のフィールド
}
```

リレーは、削除リクエストと同じ `pubkey` を持つ参照されたイベントを削除するか、公開を停止すべきです（SHOULD）。クライアントは、参照されたイベントを非表示にするか、削除リクエストのステータスを何らかの方法で示すべきです（SHOULD）。

リレーは、削除リクエストイベントを無期限に公開/共有し続けるべきです（SHOULD）。これは、クライアントがすでに削除対象のイベントを持っている可能性があるためです。さらに、クライアントは削除リクエストイベントを、それを持っていない他のリレーにブロードキャストすべきです（SHOULD）。

`a` タグが使用される場合、リレーは削除リクエストイベントの `created_at` タイムスタンプまでの置換可能なイベントのすべてのバージョンを削除すべきです（SHOULD）。

## クライアントの使用法

クライアントは、有効な削除リクエストイベントによって参照されるイベントを完全に非表示にすることを選択できます（MAY）。これには、テキストノート、ダイレクトメッセージ、またはまだ定義されていない他のイベントの種類が含まれます。あるいは、著者がイベントを「否認」したことを示すアイコンやその他の表示とともにイベントを表示することもできます。`content` フィールドを使用して削除されたイベントの元のコンテンツを置き換えることもできますが、ユーザーインターフェースでは、これが元のコンテンツではなく削除リクエストの理由であることを明確に示す必要があります。

クライアントは、イベントを非表示にしたり削除したりする前に、削除リクエストの `e` タグで参照される各イベントの `pubkey` が削除リクエストの `pubkey` と同一であることを検証しなければなりません（MUST）。リレーは一般的にこの検証を実行できず、権威的なものとして扱うべきではありません。

クライアントは、削除リクエストイベント自体を任意の方法で表示します。例えば、まったく表示しない、または目立つ通知とともに表示します。

クライアントは、削除リクエストがすべてのリレーとクライアントからイベントを削除することを保証するものではないため、ユーザーにその旨を通知することを選択できます（MAY）。

## リレーの使用法

リレーは、削除リクエストイベントが削除リクエスト自体と同じ `pubkey` を持つイベントのみを参照していることを検証することができます（MAY）。ただし、リレーがすべての参照されたイベントの知識を持っていない可能性があるため、これは必須ではありません。

## 削除リクエストの削除リクエスト

削除リクエストに対する削除リクエストイベントの公開は効果がありません。クライアントとリレーは「削除リクエストの取り消し」機能をサポートする義務はありません。